## 밸만-포드(Bellman-Ford algorithm) 알고리즘

### 1. 밸만-포드 알고리즘이란?

- 최단 경로를 구하는 알고리즘으로는 다익스트라, 플로이드워셜, 밸만-포드 등이 있음
- 이때 벨만-포드 알고리즘은 가중 유향 그래프에서 최단 경로 문제를 푸는 알고리즘으로, 이때 `간선(edge)의 가중치가 음수`일 수 있음
- (전통적인 - 방문했던 노드를 다시 방문하지 않는) 다익스트라 알고리즘은 벨먼-포드 알고리즘과 동일한 작업을 수행하고 실행속도도 더 빠르지만, 가중치가 음수인 간선을 포함하는 경우에는 최단 경로를 찾지 못할 수 있음
  - 다만, 우선순위 큐를 이용하며 재방문을 허용하는 다익스트라 알고리즘의 경우에는 가중치가 음수인 간선이 포함되어도 최단 경로를 구할 수 있음

### 2. 다익스트라 vs 밸만-포드

- 아래와 같은 상황에서 인간은 직관적으로 1 → 2 → 3 이 최단 경로임을 인지할 수 있음
- 하지만, 전통적인 다익스트라 알고리즘의 경우에는 인접한 노드 중 최소 거리의 노드를 선택하여 방문하기 때문에 1 → 3 을 최단 경로로 인지
  - 즉, 다익스트라 알고리즘은 그리디(Greedy) 기반의 알고리즘으로 매번 최소 거리를 찾아 최소 거리를 붙여가면서 최단 경로를 찾으며, 방문했던 노드를 다시 방문하지 않으므로 음수 가중치는 고려하지 못함
> ![image](https://user-images.githubusercontent.com/82401504/221074735-af2da61f-e7fe-4eea-b06b-40263c9c023b.png)
- 사실 다익스트라 알고리즘은 음수 가중치의 간선이 존재할 때 최단 경로를 `찾을 수도 있고 못 찾을 수도 있음`
  - 아래 예시처럼 음수 간선이 포함되어도 다익스트라 알고리즘을 통해 최단 경로를 구할 수 있는 경우도 있음
> ![image](https://user-images.githubusercontent.com/82401504/221076813-f6bb898e-417e-4654-ac12-2371f396a66a.png)
- 따라서, 모든 간선의 비용이 양수일 때는 전통적인 다익스트라 알고리즘을 사용하는 것을 고려해볼 수 있겠으나,
- 음수 간선이 포함되는 경우에는 `매번 모든 간선을 확인`하는 밸만-포드 알고리즘 사용을 고려해볼 수 있음
- V와 E가 각각 그래프에서 꼭짓점(노드)과 변의 개수라고 한다면,
    - 벨먼-포드 알고리즘의 시간 복잡도는 `O(VE)`이며,
    - 전통적인 다익스트라 알고리즘의 시간 복잡도는 `O(V^2)`이며,
    - 우선순위 큐를 활용하여 개선한 다익스트라 알고리즘의 시간 복잡도는 `O(ElogV)`


### 3. 밸만-포드 알고리즘 활용

- 밸만-포드 알고리즘을 통해 음수 가중치의 간선을 포함한 경우에도 최단 경로를 구할 수 있습니다. → `우선순위 큐를 이용하면서 방문했던 노드를 다시 방문할 수 있도록 허용하는 다익스트라 알고리즘을 사용하면 안될까?`
- 밸만-포드 알고리즘을 통해 그래프 내에 음수 간선의 사이클(cycle)이 포함되는 경우를 탐지할 수 있습니다. → `개선된 다익스트라 알고리즘 적용 시 최단 거리가 음의 무한인 노드가 발생할 수 있음(엄청 많은 탐색 시도)`
- (참고) 음수 간선의 사이클(cycle)이 포함되는 경우란?
> ![image](https://user-images.githubusercontent.com/82401504/221076962-fdcb6da4-4fe0-4b18-8056-0c6a956ec47a.png)

### 4. 밸만-포드 알고리즘 수행 과정

- 출발 노드 설정
- 최단 거리 테이블 초기화
- 다음 과정을 (정점의 개수 V - 1) 회 반복
    - 모든 간선 E 개를 하나씩 확인하여,
    - 각 간선을 거쳐 다른 노드로 가는 비용을 계산하여 최단 거리 테이블 갱신
- 위 과정을 완료 후 한 번 더 위 과정을 거쳤을 때 최단 거리 테이블이 갱신된다면 `음수 간선 사이클` 포함
